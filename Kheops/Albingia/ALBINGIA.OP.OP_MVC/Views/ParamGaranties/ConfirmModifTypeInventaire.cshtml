@model List<ALBINGIA.OP.OP_MVC.Models.ModelesParamGaranties.OffreInventaireGarantie>
@{
    var listCodesInventaires = string.Empty;
    @Html.Hidden("TypeRetourData", "ConfirmModifTypeInventaire")
    <div class="CommonForm FloatLeft">
        <div class="GroupFull GroupWithBorder ConfirmModifTypeInventaireWidth">
            <div class="GroupTitle">Cette garantie possède des inventaires au niveau des offres suivantes :</div>
            <div class="HorizontalFullWithGroup ConfirmModifTypeInventaireWidth">
                <div class="GradientSection HeightOffresContrats">
                    <div id="divOffresHeader">
                        <table id="tblHeaderOffres">
                            <tr>
                                <th class="col_HeaderOffre tablePersoHead">Code
                                </th>
                                <th class="col_HeaderVersion tablePersoHead">Version
                                </th>
                                <th class="col_HeaderType tablePersoHead">Type
                                </th>
                                <th class="col_HeaderLettreFormule tablePersoHead">Lettre Libellé Formule
                                </th>
                                <th class="col_HeaderLibelleFormule tablePersoHead">Libellé Formule
                                </th>
                            </tr>
                        </table>
                    </div>
                    <div id="divOffresBody">
                        @if (Model.Count > 0)
                        {
                            <table id="tblBodyOffres" class="trHeight">
                                @foreach (var ligne in Model)
                                {
                                    if (string.IsNullOrEmpty(listCodesInventaires))
                                    {
                                        listCodesInventaires = ligne.CodeInventaire.ToString();
                                    }
                                    else
                                    {
                                        listCodesInventaires += ";" + ligne.CodeInventaire.ToString();
                                    }

                                    <tr>
                                        <td class="col_Offre">
                                            <label>@ligne.CodeOffre</label>
                                        </td>
                                        <td class="col_Version">
                                            <label>@ligne.Version</label>
                                        </td>
                                        <td class="col_Type">
                                            <label>@(ligne.Type == "O" ? "Offre" : "Contrat")</label>
                                        </td>
                                        <td class="col_LettreFormule">
                                            <label>@ligne.LettreFormule</label>
                                        </td>
                                        <td class="col_LibelleFormule">
                                            <label>@ligne.LibelleFormule</label>
                                        </td>
                                    </tr>
                                }
                            </table>
                        }
                        @Html.Hidden("ListCodesInventaires", listCodesInventaires)
                    </div>
                </div>
            </div>
        </div>
        <div class="GroupFull GroupWithBorder ButtonsHeightMsgConfirm ConfirmModifTypeInventaireWidth">
            <div class="ActionButtons ActionButtonCenter">
                <div id="msgConfirm" class="FancyTextCenter MsgConfirm">
                    La modification du type d'inventaire entraîne la suppression des inventaires liés à cette garantie.
                <br/>
                    Voulez-vous continuer ?
                </div>
                <button id="btnFermer" type="button">Non</button>
                <button id="btnValider" type="button">Oui</button>
            </div>
        </div>
    </div>
}

